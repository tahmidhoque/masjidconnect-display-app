# =============================================================================
# MasjidConnect Kiosk â€” systemd service
#
# Launches Chromium in kiosk mode after the display server is running.
#
# Install:
#   sudo cp deploy/masjidconnect-kiosk.service /etc/systemd/system/
#   sudo systemctl daemon-reload
#   sudo systemctl enable masjidconnect-kiosk
#   sudo systemctl start masjidconnect-kiosk
# =============================================================================

[Unit]
Description=MasjidConnect Kiosk (Chromium)
After=graphical.target masjidconnect-display.service
Requires=masjidconnect-display.service

[Service]
Type=simple
User=pi
Group=pi
Environment=DISPLAY=:0
Environment=XAUTHORITY=/home/pi/.Xauthority
ExecStart=/bin/bash /opt/masjidconnect/deploy/kiosk.sh 3001
Restart=always
RestartSec=10
StandardOutput=journal
StandardError=journal

# graphical.target = start when GUI is up (RPi with autologin has DISPLAY=:0)
[Install]
WantedBy=graphical.target
